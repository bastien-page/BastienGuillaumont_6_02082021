(()=>{"use strict";class e{constructor(e,t){this.selector=e,this.photographer=t,this.buildCard(t)}buildCard(e){const t=document.createElement("div");t.classList.add("card");const n=document.createElement("a"),a=document.createElement("img");a.classList.add("card__photo");const c=document.createElement("p");c.classList.add("card__name");const r=document.createElement("p");r.classList.add("card__location");const s=document.createElement("p");s.classList.add("card__slogan");const l=document.createElement("p");l.classList.add("card__price");const d=document.createElement("div");return d.classList.add("card__tag"),this.selector.appendChild(t),t.appendChild(n),n.appendChild(a),n.appendChild(c),n.appendChild(r),n.appendChild(s),n.appendChild(l),n.appendChild(d),n.setAttribute("href","./html/photographerpage.html#"+e.id),a.setAttribute("src","../public/img/IDPhotos/"+e.portrait),c.innerText=e.name,r.innerText=e.city+", "+e.country,s.innerText=e.tagline,l.innerText=e.price+"â‚¬/jour",d.innerHTML=this.createTag(e.tags),t}createTag(e){let t="";return e.forEach((e=>{t+=`<div class="card__tag-filter">#${e}</div>`})),t}}let t,n,a;(async e=>{const t=await fetch("FishEyeData.json");return await t.json()})().then((r=>{t=r.photographers,n=r.photographers,a=r.media,t.map((t=>new e(document.querySelector("main"),t))),console.log(t),console.log(a),c(),function(){let a=null,c=document.querySelector("main");const r=Array.from(document.querySelectorAll(".filter"));r.forEach((s=>{s.addEventListener("click",(l=>{null===a?(a=l.target.id,t=t.filter((e=>e.tags.includes(a))),c.innerHTML="",console.log(t),t.map((t=>new e(c,t))),s.classList.add("filter-selected")):a===l.target.id?(a=null,s.classList.remove("filter-selected"),c.innerHTML="",t=n,t.map((t=>new e(c,t)))):a!=l.target.id&&(r.forEach((e=>e.classList.remove("filter-selected"))),s.classList.add("filter-selected"),t=n,a=l.target.id,t=t.filter((e=>e.tags.includes(a))),c.innerHTML="",t.map((t=>new e(c,t))))}))}))}()}));const c=()=>{document.body.innerHTML+='\n    <div class="btn_scroll">\n      <a href="#main">Passer au contenu</a>\n    </div>\n    ';let e=document.querySelector(".btn_scroll");document.addEventListener("scroll",(t=>{window.scrollY>5?e.style.top="10px":e.style.top="-100px"}))}})();