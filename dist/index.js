(()=>{"use strict";class t{constructor(t,e){this.selector=t,this.photographer=e,this.buildCard(e);}buildCard(t){const e=document.createElement("article");e.classList.add("card"),e.setAttribute("aria-label","information photographe");const a=document.createElement("a");a.setAttribute("aria-label",t.name);const r=document.createElement("img");r.classList.add("card__photo"),r.setAttribute("aria-label","portrait du photographe");const n=document.createElement("p");n.classList.add("card__name");const i=document.createElement("p");i.classList.add("card__location"),i.setAttribute("tabindex","0"),i.setAttribute("aria-label","Localisation");const l=document.createElement("p");l.classList.add("card__slogan"),l.setAttribute("tabindex","0"),l.setAttribute("aria-label","Slogan");const s=document.createElement("p");s.classList.add("card__price"),s.setAttribute("tabindex","0"),s.setAttribute("aria-label","Prix");const c=document.createElement("div");return c.classList.add("card__tag"),c.setAttribute("aria-label","Centre d'interet"),this.selector.appendChild(e),e.appendChild(a),a.appendChild(r),e.appendChild(n),e.appendChild(i),e.appendChild(l),e.appendChild(s),e.appendChild(c),a.setAttribute("href",`public/html/photographerpage.html#${t.id}`),r.setAttribute("src",`./public/img/IDPhotos/${t.portrait}`),n.innerText=t.name,i.innerText=`${t.city}, ${t.country}`,l.innerText=t.tagline,s.innerText=`${t.price}â‚¬/jour`,c.innerHTML=this.createTag(t.tags),e;}createTag(t){let e="";return t.forEach((t=>{e+=`<div role="button" class="card__tag-filter">#${t}</div>`;})),e;}}let e,a;(async t=>{const e=await fetch("./public/FishEyeData.json");return await e.json();})().then((n=>{e=n.photographers,a=n.photographers,e.map((e=>new t(document.querySelector("main"),e))),r(),function(){let r=null;const n=document.querySelector("main"),i=Array.from(document.querySelectorAll(".filter"));i.forEach((l=>{l.addEventListener("click",(s=>{null===r?(r=s.target.id,e=e.filter((t=>t.tags.includes(r))),n.innerHTML="",console.log(e),e.map((e=>new t(n,e))),l.classList.add("filter-selected")):r===s.target.id?(r=null,l.classList.remove("filter-selected"),n.innerHTML="",e=a,e.map((e=>new t(n,e)))):r!=s.target.id&&(i.forEach((t=>t.classList.remove("filter-selected"))),l.classList.add("filter-selected"),e=a,r=s.target.id,e=e.filter((t=>t.tags.includes(r))),n.innerHTML="",e.map((e=>new t(n,e))));}));}));}();}));const r=()=>{document.body.innerHTML+="\n    <div role=\"button\" class=\"btn_scroll\">\n      <a href=\"#main\">Passer au contenu</a>\n    </div>\n    ";const t=document.querySelector(".btn_scroll");document.addEventListener("scroll",(()=>{window.scrollY>5?t.style.top="10px":t.style.top="-100px";}));};})();